# ============================================
# CONFIGURACIÓN GENERAL DE LA APLICACIÓN
# ============================================
spring.application.name=Bot Futbol

# Puerto del servidor
server.port=8080

# ============================================
# CONFIGURACIÓN DE BASE DE DATOS - H2 (Desarrollo)
# ============================================
# Descomentar estas líneas para usar H2 en memoria
#spring.datasource.url=jdbc:h2:mem:botfutbol
#spring.datasource.driverClassName=org.h2.Driver
#spring.datasource.username=sa
#spring.datasource.password=

# Habilitar consola H2 (acceso en http://localhost:8080/h2-console)
#spring.h2.console.enabled=true
#spring.h2.console.path=/h2-console

# ============================================
# CONFIGURACIÓN DE BASE DE DATOS - MySQL
# ============================================
# Descomentar estas líneas para usar MySQL
#spring.datasource.url=jdbc:mysql://localhost:3306/bot_futbol?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC
#spring.datasource.username=root
#spring.datasource.password=tu_password
#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ============================================
# CONFIGURACIÓN DE BASE DE DATOS - PostgreSQL
# ============================================
# Usar variables de entorno en producción (Render), valores locales como fallback
spring.datasource.url=jdbc:postgresql://${DATABASE_URL:localhost:3001/postgres}?sslmode=require
spring.datasource.username=${DB_USERNAME:bot_futbol}
spring.datasource.password=${DB_PASSWORD:postgres}
spring.datasource.driver-class-name=org.postgresql.Driver

# Configuración SSL para Supabase (requerido en producción)
spring.datasource.hikari.connection-init-sql=SELECT 1
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2

# ============================================
# CONFIGURACIÓN DE JPA/HIBERNATE
# ============================================
# Dialecto de Hibernate (ajustar según la BD)
#spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
#spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Estrategia de DDL (crear tablas automáticamente)
# create: Crea las tablas cada vez (elimina datos existentes)
# create-drop: Crea al iniciar, elimina al cerrar
# update: Actualiza el esquema sin eliminar datos
# validate: Solo valida el esquema
# none: No hace nada
spring.jpa.hibernate.ddl-auto=update

# Configuración de schema público de PostgreSQL
spring.jpa.properties.hibernate.default_schema=public

# Mostrar SQL en consola (útil para desarrollo)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Generar estadísticas de Hibernate
spring.jpa.properties.hibernate.generate_statistics=false

# ============================================
# CONFIGURACIÓN DE LOGGING
# ============================================
# Nivel de log general
logging.level.root=INFO

# Nivel de log para el paquete de la aplicación
logging.level.com.botfutbol=DEBUG

# Nivel de log para Hibernate
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Nivel de log para Spring
logging.level.org.springframework.web=INFO

# Patrón de log en consola
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# ============================================
# CONFIGURACIÓN DE LA APLICACIÓN BOT
# ============================================
# Costo por defecto por jugador por partido
bot.default.cost-per-player=1500.0

# Número máximo de jugadores por equipo
bot.team.max-players=11

# Habilitar modo de prueba
bot.test-mode=false

# ============================================
# CONFIGURACIÓN DE JACKSON (JSON)
# ============================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=America/Argentina/Buenos_Aires

# ============================================
# CONFIGURACIÓN DE ERRORES
# ============================================
# Incluir mensaje de error en respuesta
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=on_param
server.error.include-exception=false
